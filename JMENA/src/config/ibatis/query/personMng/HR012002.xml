<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE sqlMap PUBLIC "-//iBATIS.com//DTD SQL Map 2.0//EN"
  "http://ibatis.apache.org/dtd/sql-map-2.dtd">

<sqlMap namespace="HR012002">

	<typeAlias alias="HR012002VO" type="kr.co.jmena.www.web.home.personMng.Vo.HR012002VO"/>

	<resultMap id="HR012002Data" class="HR012002VO">
		<result property="BRANCHCODE" 		column="BRANCHCODE"/>
		<result property="BRANCHNAME" 		column="BRANCHNAME"/>
		<result property="DEPTCODE" 		column="DEPTCODE"/>
		<result property="DEPTNAME" 		column="DEPTNAME"/>
		<result property="DUTY" 			column="DUTY"/>
		<result property="GRADE" 			column="GRADE"/>
		<result property="EMPLOYGUBUN" 		column="EMPLOYGUBUN"/>
		<result property="INSACODE" 		column="INSACODE"/>
		<result property="KNAME" 			column="KNAME"/>
		<result property="RECOID" 			column="RECOID"/>
		<result property="RECONAME" 		column="RECONAME"/>
		<result property="JOINDATE" 		column="JOINDATE"/>
		<result property="RETIREDATE" 		column="RETIREDATE"/>
		<result property="SELLAMT" 			column="SELLAMT"/>
		<result property="O_BRANCHCODE" 	column="O_BRANCHCODE"/>
		<result property="O_BRANCHNAME" 	column="O_BRANCHNAME"/>
		<result property="O_JOINDATE" 		column="O_JOINDATE"/>
		<result property="O_RETIREDATE" 	column="O_RETIREDATE"/>
		<result property="O_SELLAMT" 		column="O_SELLAMT"/>
		<result property="O_REMARK" 		column="O_REMARK"/>
		<result property="REMARK" 			column="REMARK"/>
	</resultMap>


	<select id="selectListHR012002" resultMap="HR012002Data">
		SELECT 
			T1.BRANCHCODE,
			(SELECT BRANCHNAME FROM BA_BRANCHMST WHERE BRANCHCODE = T1.BRANCHCODE) AS BRANCHNAME,
			T1.DEPTCODE,
			(SELECT DEPTNAME FROM BA_DEPTMST WHERE BRANCHCODE = T1.BRANCHCODE AND DEPTCODE = T1.DEPTCODE) AS DEPTNAME,
			T1.DUTY,
			T1.GRADE,
			T1.EMPLOYGUBUN,
			T1.INSACODE,
			T1.KNAME,
			T1.RECOID,
			(SELECT KNAME FROM HR_INSAMST WHERE INSACODE = T1.RECOID) AS RECONAME,
			T1.JOINDATE,
			T1.RETIREDATE,
			'' AS SELLAMT,
			'' AS O_BRANCHCODE,
			'' AS O_BRANCHNAME,
			'' AS O_JOINDATE,
			'' AS O_RETIREDATE,
			'' AS O_SELLAMT,
			'' AS O_REMARK,
			T1.REMARK
		FROM HR_INSAMST T1
		WHERE 1=1
		<isNotEmpty property="S_RETIREDATE_FR">
			<isNotEmpty property="S_RETIREDATE_TO">
				AND T1.RETIREDATE BETWEEN #S_RETIREDATE_FR# AND #S_RETIREDATE_TO#
			</isNotEmpty>
		</isNotEmpty>
		<isNotEmpty property="S_BRANCHCODE">
			AND T1.BRANCHCODE = #S_BRANCHCODE#
		</isNotEmpty>
		<isNotEmpty property="S_DEPTCODE">
			AND T1.DEPTCODE = #S_DEPTCODE#
		</isNotEmpty>
		<isNotEmpty property="S_KNAME">
			AND T1.KNAME LIKE CONCAT(‘%’, #S_KNAME#, ‘%’)
		</isNotEmpty>
		<isNotEmpty property="S_JUMINID">
			AND T1.JUMINID LIKE CONCAT(‘%’, #S_JUMINID#, ‘%’) 
		</isNotEmpty>
		
		ORDER BY T1.JOINDATE ASC
	</select>
	
</sqlMap>